---
version: 1
interactions:
- request:
    body: '{"name":"cli-public-namespace","description":"","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","is_public":true}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"842074b6-defa-4f1c-aabc-b948564af655","name":"cli-public-namespace","description":"","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","status_message":"","endpoint":"rg.fr-par.scw.cloud/cli-public-namespace","is_public":true,"size":0,"created_at":"2020-06-03T15:58:22.928187362Z","updated_at":"2020-06-03T15:58:22.928187362Z","image_count":0,"region":"fr-par"}'
    headers:
      Content-Length:
      - "392"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 03 Jun 2020 15:58:22 GMT
      Server:
      - agw_listener_public_anycast
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 768d98c7-934e-48a5-ad65-c770c86d68da
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"cli-private-namespace","description":"","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","is_public":false}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"b32628da-a6f5-424c-a8fa-5eb6c3d5721a","name":"cli-private-namespace","description":"","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","status_message":"","endpoint":"rg.fr-par.scw.cloud/cli-private-namespace","is_public":false,"size":0,"created_at":"2020-06-03T15:58:23.014323981Z","updated_at":"2020-06-03T15:58:23.014323981Z","image_count":0,"region":"fr-par"}'
    headers:
      Content-Length:
      - "395"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 03 Jun 2020 15:58:22 GMT
      Server:
      - agw_listener_public_anycast
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 607a3cc4-e550-4400-944e-1043dde1a4d2
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/images?name=visibility_public&order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"images":[{"id":"93750845-dfcd-4245-a60a-3468edaee82e","name":"visibility_public","namespace_id":"842074b6-defa-4f1c-aabc-b948564af655","status":"ready","status_message":"","visibility":"inherit","size":760455,"created_at":"2020-06-03T15:58:27.650304Z","updated_at":"2020-06-03T15:58:28.219478Z","tags":["latest"]}],"total_count":1}'
    headers:
      Content-Length:
      - "333"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 03 Jun 2020 15:59:27 GMT
      Server:
      - agw_listener_public_anycast
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 788fb6bb-67eb-4d11-8dbb-a5d77cdacab1
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces?order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"namespaces":[{"id":"842074b6-defa-4f1c-aabc-b948564af655","name":"cli-public-namespace","description":"","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","status_message":"","endpoint":"rg.fr-par.scw.cloud/cli-public-namespace","is_public":true,"size":760455,"created_at":"2020-06-03T15:58:22.928187Z","updated_at":"2020-06-03T15:58:28.241394Z","image_count":1,"region":"fr-par"},{"id":"b32628da-a6f5-424c-a8fa-5eb6c3d5721a","name":"cli-private-namespace","description":"","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","status_message":"","endpoint":"rg.fr-par.scw.cloud/cli-private-namespace","is_public":false,"size":0,"created_at":"2020-06-03T15:58:23.014324Z","updated_at":"2020-06-03T15:58:23.014324Z","image_count":0,"region":"fr-par"}],"total_count":2}'
    headers:
      Content-Length:
      - "814"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 03 Jun 2020 15:59:27 GMT
      Server:
      - agw_listener_public_anycast
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4ac87652-1f51-4bb1-a6bc-bbf854b21d18
    status: 200 OK
    code: 200
    duration: ""
